<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Have I Not Called You? - A Call to Partnership with God - Pastor Chrys Johnson">
    <title>Have I Not Called You? - Prayer Presentation</title>

    <!-- Reveal.js Core CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/reset.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/reveal.css">

    <!-- Custom Prayer Theme -->
    <link rel="stylesheet" href="../css/theme-prayer.css">

    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://cdn.jsdelivr.net">

    <style>
        /* Skip link for accessibility */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--accent, #ffd166);
            color: #14213d;
            padding: 8px 16px;
            text-decoration: none;
            z-index: 9999;
            font-weight: 600;
            border-radius: 0 0 8px 0;
        }
        .skip-link:focus {
            top: 0;
        }
    </style>
</head>
<body>
    <!-- Skip link for screen readers -->
    <a href="#main-content" class="skip-link">Skip to content</a>

    <!-- Home Button -->
    <a href="../index.html" class="home-btn" aria-label="Return to presentations list">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
            <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
        </svg>
        <span>Home</span>
    </a>

    <!-- Slide Navigator Trigger -->
    <button class="slide-nav-trigger" aria-label="Open slide navigator" title="View all slides">
        <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
            <rect x="3" y="3" width="7" height="7" rx="1"/>
            <rect x="14" y="3" width="7" height="7" rx="1"/>
            <rect x="3" y="14" width="7" height="7" rx="1"/>
            <rect x="14" y="14" width="7" height="7" rx="1"/>
        </svg>
    </button>

    <!-- Slide Navigator Modal -->
    <div class="slide-nav-modal" id="slideNavModal" role="dialog" aria-label="Slide navigator" aria-modal="true">
        <div class="slide-nav-header">
            <div>
                <h2>Slide Navigator</h2>
                <span class="slide-count" id="slideNavCount"></span>
            </div>
            <button class="slide-nav-close" aria-label="Close navigator">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                    <path d="M18 6L6 18M6 6l12 12"/>
                </svg>
            </button>
        </div>
        <div class="slide-nav-content">
            <div class="slide-nav-grid" id="slideNavGrid"></div>
        </div>
    </div>

    <div class="reveal" id="main-content">
        <div class="slides">

            <!-- 1. Title Slide -->
            <section data-auto-animate data-background-gradient="radial-gradient(ellipse at center, #1b263b 0%, #0d1b2a 100%)">
                <h1>Have I Not Called You?</h1>
                <p class="subtitle">A Call to Partnership with God</p>
                <p class="subtitle" style="margin-top: 1em;">Pastor Chrys Johnson</p>
                <p class="subtitle" style="font-size: 0.8em;">Harvest Intercontinental Church - Olney</p>
                <aside class="notes">
                    Opening slide. Take time to welcome the congregation and set the context for the message.
                </aside>
            </section>

            <!-- 2. Opening Intercession -->
            <section data-auto-animate>
                <h2>Opening Intercession</h2>
                <ul>
                    <li class="fragment fade-up">Peace, civility, and unity across political lines</li>
                    <li class="fragment fade-up">Wisdom and protection for the President and officials</li>
                    <li class="fragment fade-up">The Church to arise as light, revival beginning in us</li>
                    <li class="fragment fade-up">Push back darkness; believe God is at work</li>
                </ul>
                <div class="scripture fragment fade-up">
                    <p class="scripture-text">"Seek the peace of the city... and pray to the Lord for it."</p>
                    <p class="scripture-ref">Jeremiah 29:7; 1 Timothy 2:1-2</p>
                </div>
            </section>

            <!-- 3. Word Focus -->
            <section>
                <h2>Word Focus</h2>
                <div class="quote fragment fade-up">
                    <p>God fulfills His purposes on earth through yielded men and women.</p>
                </div>
                <ul>
                    <li class="fragment fade-up">Isaiah: "Here am I, send me"</li>
                    <li class="fragment fade-up">Ezekiel: "Stand in the gap"</li>
                    <li class="fragment fade-up">Incarnation: God working through human vessels</li>
                </ul>
            </section>

            <!-- 4. Gideon: The Call -->
            <section data-auto-animate>
                <h2 data-id="gideon-title">Gideon: Called in Weakness</h2>
                <div class="scripture" data-id="gideon-scripture">
                    <p class="scripture-text">"The Lord is with you, mighty man of valor."</p>
                    <p class="scripture-ref">Judges 6:12</p>
                </div>
                <ul>
                    <li class="fragment fade-up">Oppressed Israel cries out; God calls Gideon</li>
                    <li class="fragment fade-up">Least-qualified, fearful—yet chosen</li>
                    <li class="fragment fade-up">Promise: "I will be with you"</li>
                </ul>
            </section>

            <!-- 5. Gideon: Strategy and Victory -->
            <section data-auto-animate>
                <h2 data-id="gideon-title">Gideon: Divine Strategy</h2>
                <ul>
                    <li class="fragment fade-up">Jars, torches, trumpets—"foolish" strategy</li>
                    <li class="fragment fade-up">300 men so God alone gets the glory</li>
                    <li class="fragment fade-up">Obedience opens the way to victory</li>
                </ul>
                <div class="scripture fragment fade-up" data-id="gideon-scripture">
                    <p class="scripture-text">"Lest Israel claim glory for itself..."</p>
                    <p class="scripture-ref">Judges 7:2</p>
                </div>
            </section>

            <!-- 6. Reject Passivity -->
            <section>
                <h2>Reject Passivity</h2>
                <ul>
                    <li class="fragment fade-up">Faith resists "whatever will be" resignation</li>
                    <li class="fragment fade-up">Cry out to God—He responds</li>
                </ul>
                <div class="scripture fragment fade-up">
                    <p class="scripture-text">"Call to Me, and I will answer you..."</p>
                    <p class="scripture-ref">Jeremiah 33:3</p>
                </div>
            </section>

            <!-- 7. Intimacy Births Strategy -->
            <section>
                <h2>Intimacy Births Strategy</h2>
                <ul>
                    <li class="fragment fade-up">Seek confirmation; remain in His presence</li>
                    <li class="fragment fade-up">Receive step-by-step blueprints</li>
                    <li class="fragment fade-up">Assurance grows where intimacy grows</li>
                </ul>
                <div class="scripture fragment fade-up">
                    <p class="scripture-text">"My sheep hear My voice... and they follow Me."</p>
                    <p class="scripture-ref">John 10:27</p>
                </div>
            </section>

            <!-- 8. Obedience When It Seems Foolish -->
            <section>
                <h2>Obedience When It Seems Foolish</h2>
                <ul>
                    <li class="fragment fade-up">Trust God beyond intellect and methods</li>
                    <li class="fragment fade-up">Obey to preserve God's glory</li>
                </ul>
                <div class="scripture fragment fade-up">
                    <p class="scripture-text">"God chose the foolish things... to shame the wise"</p>
                    <p class="scripture-ref">1 Corinthians 1:27-29</p>
                </div>
            </section>

            <!-- 9. Encouragement in Delay -->
            <section>
                <h2>Encouragement in Delay</h2>
                <ul>
                    <li class="fragment fade-up">God cannot lie; He qualifies the called</li>
                    <li class="fragment fade-up">His presence goes with His word</li>
                    <li class="fragment fade-up">Say, "Be it unto me according to Your word"</li>
                </ul>
                <div class="scripture fragment fade-up">
                    <p class="scripture-text">"Faithful is He who calls you, who also will do it."</p>
                    <p class="scripture-ref">1 Thessalonians 5:24</p>
                </div>
            </section>

            <!-- 10. Respond to the Call -->
            <section data-auto-animate>
                <h2>Respond to the Call</h2>
                <ul>
                    <li class="fragment fade-up">Salvation for the unsaved</li>
                    <li class="fragment fade-up">Rededication for the weary and cold</li>
                    <li class="fragment fade-up">Holy Spirit rekindles the fire</li>
                </ul>
                <div class="cta fragment fade-up" data-id="cta-box">
                    <h3>Say "Yes" to His Call</h3>
                    <p>Here am I. Send me.</p>
                </div>
            </section>

            <!-- 11. Scriptures Referenced (1) -->
            <section>
                <h2>Scriptures Referenced</h2>
                <div class="two-columns">
                    <div class="column fragment fade-right">
                        <ul style="font-size: 0.8em;">
                            <li>Judges 6:1-16; 7:2-22</li>
                            <li>Isaiah 6:1-8</li>
                            <li>Ezekiel 22:30</li>
                            <li>Isaiah 55:11</li>
                            <li>Matthew 5:14-16</li>
                            <li>Matthew 12:20 / Isaiah 42:3</li>
                        </ul>
                    </div>
                    <div class="column fragment fade-left">
                        <ul style="font-size: 0.8em;">
                            <li>John 16:33; John 1:14</li>
                            <li>1 Corinthians 1:26-29</li>
                            <li>Philippians 4:13</li>
                            <li>Hebrews 13:5; Deuteronomy 31:6</li>
                            <li>2 Chronicles 7:14</li>
                            <li>1 Timothy 2:1-2</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- 12. Scriptures Referenced (2) -->
            <section>
                <h2>More Scriptures</h2>
                <div class="two-columns">
                    <div class="column fragment fade-right">
                        <ul style="font-size: 0.8em;">
                            <li>Jeremiah 29:7</li>
                            <li>Ephesians 6:12</li>
                            <li>Luke 10:19</li>
                            <li>Psalm 91:11</li>
                            <li>Psalm 85:6</li>
                            <li>1 Thessalonians 5:24</li>
                        </ul>
                    </div>
                    <div class="column fragment fade-left">
                        <ul style="font-size: 0.8em;">
                            <li>Psalm 27:4, 8; Jeremiah 33:3</li>
                            <li>Isaiah 54:17</li>
                            <li>Joel 2:25</li>
                            <li>Isaiah 49:25</li>
                            <li>Romans 10:9-10</li>
                            <li>Acts 2:39</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- 13. Prayer Points (1) -->
            <section>
                <h2>Prayer Points</h2>
                <div class="prayer-points">
                    <ul>
                        <li class="fragment fade-up"><strong>For the Nation:</strong> Peace and unity in the USA</li>
                        <li class="fragment fade-up"><strong>For Leaders:</strong> Wisdom and protection for all in authority</li>
                        <li class="fragment fade-up"><strong>For the Church:</strong> Arise and shine as light</li>
                        <li class="fragment fade-up"><strong>Against Darkness:</strong> Push back the enemy</li>
                        <li class="fragment fade-up"><strong>For the Called:</strong> Courage to step out in faith</li>
                    </ul>
                </div>
            </section>

            <!-- 14. Prayer Points (2) -->
            <section>
                <h2>More Prayer Points</h2>
                <div class="prayer-points">
                    <ul>
                        <li class="fragment fade-up"><strong>For Intimacy:</strong> Draw near to hear His voice</li>
                        <li class="fragment fade-up"><strong>For Obedience:</strong> Follow divine strategies</li>
                        <li class="fragment fade-up"><strong>For Deliverance:</strong> Freedom from oppression and restoration</li>
                        <li class="fragment fade-up"><strong>For Provision:</strong> Resources for every assignment</li>
                        <li class="fragment fade-up"><strong>For Revival:</strong> Fire rekindled for backsliders</li>
                    </ul>
                </div>
            </section>

            <!-- 15. Prayer Points (3) -->
            <section>
                <h2>Final Prayer Points</h2>
                <div class="prayer-points">
                    <ul>
                        <li class="fragment fade-up"><strong>For Protection:</strong> Over cities, homes, and borders</li>
                        <li class="fragment fade-up"><strong>For Harvest:</strong> Souls brought into the Kingdom</li>
                    </ul>
                </div>
            </section>

            <!-- 16. Your Identity -->
            <section data-auto-animate>
                <h2>Your Identity</h2>
                <div class="quote" data-id="identity-quote">
                    <p>God adds His "extra" to your ordinary to produce the extraordinary.</p>
                </div>
                <div class="scripture fragment fade-up">
                    <p class="scripture-text">"I can do all things through Christ who strengthens me."</p>
                    <p class="scripture-ref">Philippians 4:13</p>
                </div>
            </section>

            <!-- 17. He Is With You -->
            <section>
                <h2>He Is With You</h2>
                <div class="scripture">
                    <p class="scripture-text">"I will never leave you nor forsake you."</p>
                    <p class="scripture-ref">Hebrews 13:5; Deuteronomy 31:6</p>
                </div>
                <p class="subtitle fragment fade-up" style="margin-top: 1.5em; font-size: 1.3em; color: var(--accent);">
                    Go in this your might.
                </p>
            </section>

            <!-- 18. Closing -->
            <section data-background-gradient="radial-gradient(ellipse at center, #1b263b 0%, #0d1b2a 100%)">
                <h2>Closing</h2>
                <div class="cta">
                    <h3>Step Into Your Call</h3>
                    <p>May the Lord establish His word, strengthen your hands, and keep you in perfect peace as you walk in His call. Amen.</p>
                </div>
            </section>

        </div>
    </div>

    <!-- Reveal.js Core -->
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/reveal.js"></script>

    <!-- Initialize Reveal.js -->
    <script>
        // Responsive dimensions based on screen size
        const isMobile = window.innerWidth <= 768;
        const isSmallPhone = window.innerWidth <= 480;

        Reveal.initialize({
            // Responsive display configuration
            width: isSmallPhone ? 375 : (isMobile ? 768 : 1920),
            height: isSmallPhone ? 667 : (isMobile ? 1024 : 1080),
            margin: isSmallPhone ? 0.02 : (isMobile ? 0.05 : 0.04),
            minScale: 0.1,
            maxScale: 2.0,

            // Navigation
            hash: true,
            history: true,
            hashOneBasedIndex: true,
            respondToHashChanges: true,
            navigationMode: 'linear',

            // Controls
            controls: true,
            controlsTutorial: false,
            controlsLayout: 'bottom-right',
            controlsBackArrows: 'faded',
            progress: true,
            slideNumber: isMobile ? false : 'c/t',
            showSlideNumber: 'all',

            // Transitions - simplified on mobile for performance
            transition: isMobile ? 'none' : 'slide',
            transitionSpeed: 'fast',
            backgroundTransition: 'none',

            // Auto-animate - disabled on mobile for performance
            autoAnimate: !isMobile,
            autoAnimateDuration: 0.5,
            autoAnimateEasing: 'ease-out',
            autoAnimateUnmatched: true,

            // Fragments
            fragments: true,
            fragmentInURL: false,

            // Interaction
            keyboard: true,
            touch: true,
            loop: false,
            center: true,

            // Behavior
            embedded: false,
            help: true,
            pause: true,
            previewLinks: false,
            disableLayout: false,

            // Accessibility
            hideInactiveCursor: true,
            hideCursorTime: 3000,

            // PDF Export
            pdfSeparateFragments: true,
            pdfMaxPagesPerSlide: 1,
        });

        // Keyboard shortcut for home
        Reveal.addKeyBinding({ keyCode: 72, key: 'H', description: 'Go to home page' }, () => {
            window.location.href = '../../presentations.html';
        });

        // Announce slide changes for screen readers
        Reveal.on('slidechanged', event => {
            const slideTitle = event.currentSlide.querySelector('h1, h2, h3');
            if (slideTitle) {
                const announcement = document.createElement('div');
                announcement.setAttribute('role', 'status');
                announcement.setAttribute('aria-live', 'polite');
                announcement.setAttribute('aria-atomic', 'true');
                announcement.className = 'sr-only';
                announcement.style.cssText = 'position: absolute; left: -10000px; width: 1px; height: 1px; overflow: hidden;';
                announcement.textContent = `Slide ${event.indexh + 1}: ${slideTitle.textContent}`;
                document.body.appendChild(announcement);
                setTimeout(() => announcement.remove(), 1000);
            }
        });

        // Slide Navigator functionality
        (function() {
            const modal = document.getElementById('slideNavModal');
            const grid = document.getElementById('slideNavGrid');
            const countEl = document.getElementById('slideNavCount');
            const trigger = document.querySelector('.slide-nav-trigger');
            const closeBtn = document.querySelector('.slide-nav-close');

            function getSlideType(section) {
                const text = section.textContent.toLowerCase();
                const html = section.innerHTML.toLowerCase();
                if (section.querySelector('h1') && !section.querySelector('h2')) return 'title';
                if (html.includes('prayer') || html.includes('lord,') || html.includes('father,')) return 'prayer';
                if (section.querySelector('.scripture') || html.includes('scripture')) return 'scripture';
                return 'content';
            }

            function getSlideTitle(section, index) {
                const h1 = section.querySelector('h1');
                const h2 = section.querySelector('h2');
                const h3 = section.querySelector('h3');
                if (h1) return h1.textContent.trim().substring(0, 40);
                if (h2) return h2.textContent.trim().substring(0, 40);
                if (h3) return h3.textContent.trim().substring(0, 40);
                return 'Slide ' + (index + 1);
            }

            function getSlidePreview(section) {
                const h1 = section.querySelector('h1');
                const h2 = section.querySelector('h2');
                const p = section.querySelector('p');
                const scripture = section.querySelector('.scripture-text');
                let text = '';
                if (h1) text += h1.textContent.trim() + ' ';
                if (h2) text += h2.textContent.trim() + ' ';
                if (scripture) text += scripture.textContent.trim().substring(0, 80);
                else if (p) text += p.textContent.trim().substring(0, 80);
                return text.trim() || 'Slide content';
            }

            function buildNavGrid() {
                const slides = document.querySelectorAll('.reveal .slides > section');
                const total = slides.length;
                const current = Reveal.getIndices().h;
                countEl.textContent = total + ' slides';
                grid.innerHTML = '';

                slides.forEach((section, index) => {
                    const type = getSlideType(section);
                    const title = getSlideTitle(section, index);
                    const preview = getSlidePreview(section);
                    const isActive = index === current;

                    const card = document.createElement('div');
                    card.className = 'slide-nav-card' + (isActive ? ' active' : '');
                    card.dataset.type = type;
                    card.dataset.index = index;
                    card.setAttribute('role', 'button');
                    card.setAttribute('tabindex', '0');
                    card.setAttribute('aria-label', 'Go to slide ' + (index + 1) + ': ' + title);

                    card.innerHTML = `
                        <div class="slide-nav-preview">
                            <span class="preview-text">${preview}</span>
                        </div>
                        <div class="slide-nav-info">
                            <span class="slide-nav-number">${index + 1}</span>
                            <span class="slide-nav-title">${title}</span>
                        </div>
                    `;

                    card.addEventListener('click', () => goToSlide(index));
                    card.addEventListener('keydown', (e) => {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            goToSlide(index);
                        }
                    });

                    grid.appendChild(card);
                });
            }

            function goToSlide(index) {
                Reveal.slide(index);
                closeModal();
            }

            function openModal() {
                buildNavGrid();
                modal.classList.add('active');
                document.body.style.overflow = 'hidden';
                closeBtn.focus();
                setTimeout(() => {
                    const activeCard = grid.querySelector('.slide-nav-card.active');
                    if (activeCard) {
                        activeCard.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                }, 100);
            }

            function closeModal() {
                modal.classList.remove('active');
                document.body.style.overflow = '';
                trigger.focus();
            }

            trigger.addEventListener('click', openModal);
            closeBtn.addEventListener('click', closeModal);
            modal.addEventListener('click', (e) => {
                if (e.target === modal) closeModal();
            });
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && modal.classList.contains('active')) {
                    closeModal();
                }
                if (e.key === 'g' || e.key === 'G') {
                    if (!modal.classList.contains('active')) {
                        e.preventDefault();
                        openModal();
                    }
                }
            });

            Reveal.on('slidechanged', () => {
                if (modal.classList.contains('active')) {
                    const current = Reveal.getIndices().h;
                    grid.querySelectorAll('.slide-nav-card').forEach((card, idx) => {
                        card.classList.toggle('active', idx === current);
                    });
                }
            });
        })();
    </script>
</body>
</html>

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Trusting Jesus — Sermon Summaries</title>
  <link rel="stylesheet" href="./assets/css/site.css" />
  <script type="module">
    import { makeHeader, renderList, card } from './assets/js/site.js';
    window.addEventListener('DOMContentLoaded', async () => {
      document.body.prepend(makeHeader('sermons'));
      await renderList('list', './data/sermons.json', (s) => {
        // Create link to sermon viewer instead of raw path
        const viewerLink = s.id ? `sermon-viewer.html?id=${s.id}` : (s.path || '#');
        return card(s.title, [s.speaker, s.date].filter(Boolean).join(' • '), viewerLink);
      });
    });
  </script>
</head>
<body>
  <a href="#main" class="skip-link">Skip to content</a>
  <main id="main" class="container">
    <section class="hero">
      <h1 class="hero-title">Sermon Summaries</h1>
      <p class="hero-subtitle">Key ideas and scriptures from recent messages.</p>
    </section>
    <section class="panel">
      <div id="list" aria-live="polite">Loading…</div>
    </section>
  </main>
  <footer>© Trusting Jesus</footer>
</body>
</html>
